{"version":3,"sources":["../../../../assets/scripts/assets/scripts/helper.js"],"names":["helper","pointInNode","pointInWindow","node","canvasNode","cc","find","parentNodes","x","nodeForFunc","parent","length","xTransed","yTransed","pointInWindowTemp","i","position","y","point","Vec2","isOneNodeInAnotherNode","oneNode","anotherNode","addForeBoundPointToOneNode","left","right","top","bottom","v2","width","height","turnOneNodeToOnePosition","targetPosition","nodePosition","getPosition","yMinus","xMinus","degree","Math","atan2","PI","rotation","formatNumberShowStyle","givenNumber","tempNumber","stringForReturn","lastThreeNumber","toFixed","slice","lastString","floor","toString","isHittedByProbability","givenProbability","basicNum","num","random","module","exports"],"mappings":"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","file":"helper.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\nvar helper = {\n    pointInNode(pointInWindow,node){\n\n        var canvasNode = cc.find(\"Canvas\");\n        var parentNodes = [];\n        var x = 0\n        var nodeForFunc = node;\n\n        while (nodeForFunc.parent != null) {\n            parentNodes[x] = nodeForFunc.parent;\n            x ++;\n            if (nodeForFunc.parent == canvasNode) {\n                break;\n            }\n            else {\n                nodeForFunc = nodeForFunc.parent;\n            }\n        }\n        if (parentNodes.length == 0){\n            return \n        }\n\n        var xTransed = null;\n        var yTransed = null;\n        var pointInWindowTemp = pointInWindow;\n        for(var i in parentNodes){\n            xTransed = pointInWindowTemp.x - parentNodes[i].position.x;\n            yTransed = pointInWindowTemp.y - parentNodes[i].position.y;\n            pointInWindowTemp.x = xTransed;\n            pointInWindowTemp.y = yTransed;\n        }\n        var point = new cc.Vec2(xTransed,yTransed);\n        return point;\n    },\n    pointInWindow(pointInNode,node){\n\n    },\n    isOneNodeInAnotherNode(oneNode,anotherNode){\n        //there should be a function to conver the two nodes to a same coodinate;\n        //now I'm sure about it , so ignore it~\n        this.addForeBoundPointToOneNode(oneNode);\n        this.addForeBoundPointToOneNode(anotherNode);\n        \n        if (oneNode.left.x >= anotherNode.left.x && oneNode.right.x <= anotherNode.right.x && oneNode.top.y <= anotherNode.top.y && oneNode.bottom.y >= anotherNode.bottom.y) {\n            return true;\n        }\n        else {\n            return false;\n        }\n        \n    },\n    addForeBoundPointToOneNode(oneNode){\n        oneNode.left = cc.v2(oneNode.x - oneNode.width/2 , oneNode.y);\n        oneNode.right = cc.v2(oneNode.x + oneNode.width/2 , oneNode.y);\n        oneNode.top = cc.v2(oneNode.x, oneNode.y + oneNode.height/2);\n        oneNode.bottom = cc.v2(oneNode.x, oneNode.y - oneNode.height/2);\n    },\n    turnOneNodeToOnePosition(oneNode,targetPosition){\n        var nodePosition = oneNode.getPosition();\n        var yMinus = targetPosition.y - nodePosition.y;\n        var xMinus = targetPosition.x - nodePosition.x;\n        var degree = Math.atan2(yMinus,xMinus) * 180 / Math.PI;\n        oneNode.rotation = -1 *degree;\n\n    },\n    formatNumberShowStyle(givenNumber) {\n        //rules: \n        //0 - 1million , show the real number which seperated by , each 3 number \n        var tempNumber = givenNumber / 1000;\n        var stringForReturn = \"\";\n\n        while(tempNumber >= 1) {\n            var lastThreeNumber = tempNumber.toFixed(3).slice(-3);\n            var lastString = \",\" + lastThreeNumber;\n            stringForReturn = lastString + stringForReturn;\n\n            tempNumber = Math.floor(tempNumber) / 1000;\n        }\n        tempNumber = tempNumber * 1000;\n        stringForReturn = tempNumber.toString() + stringForReturn;\n        return stringForReturn;\n\n    },\n    isHittedByProbability(givenProbability, basicNum) {\n        var num = Math.random() * basicNum;\n        if ( num < givenProbability) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n}\n\nmodule.exports = helper;\n"]}