{"version":3,"sources":["../../../../assets/scripts/assets/scripts/intensityUIMgr.js"],"names":["cc","Class","extends","Component","properties","tabs","Node","content","boatIntensifyItemPrefab","Prefab","boatTab","oterTab1","otherTab2","onLoad","setupBoatIntensityUI","start","dataCenter","require","infos","othersData","clientBoatIntensifyInfo","index","oneInfo","oneItem","instantiate","intensifyTypeLabel","getChildByName","getComponent","Label","string","intensifyType","desLabel","description","lvLabel","levelUpButton","Button","buttonLabel","currentLevel","nextLevelNeededDollor","maxLevel","interactable","temp","node","on","onClickLevelUpButton","originPosition","v2","xPosition","x","yPosition","y","setPosition","addChild","givenButton","networkMgr","find","message","JSON","stringify","sendMessageToServer"],"mappings":"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","file":"intensityUIMgr.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        tabs:[cc.Node],\n        content: cc.Node,\n        boatIntensifyItemPrefab: cc.Prefab,\n        boatTab: cc.Node,\n        oterTab1: cc.Node,\n        otherTab2: cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.setupBoatIntensityUI();\n    },\n\n    start () {\n        \n    },\n\n    setupBoatIntensityUI() {\n        var dataCenter = require(\"dataCenter\");\n\n        var infos = dataCenter.othersData.clientBoatIntensifyInfo;\n\n        for (var index in infos) {\n            var oneInfo = infos[index];\n            var oneItem = cc.instantiate(this.boatIntensifyItemPrefab);\n            var intensifyTypeLabel = oneItem.getChildByName(\"intensifyTypeLabel\").getComponent(cc.Label);\n            intensifyTypeLabel.string = oneInfo.intensifyType;\n            \n            var desLabel = oneItem.getChildByName(\"intensifyDesLabel\").getComponent(cc.Label);\n            desLabel.string = oneInfo.description;\n            var lvLabel = oneItem.getChildByName(\"icon\").getChildByName(\"lvLabel\").getComponent(cc.Label);\n            var levelUpButton = oneItem.getChildByName(\"levelUpButton\").getComponent(cc.Button);\n            var buttonLabel = oneItem.getChildByName(\"levelUpButton\").getChildByName(\"Label\").getComponent(cc.Label);\n\n            lvLabel.string = oneInfo.currentLevel;\n            buttonLabel.string = oneInfo.nextLevelNeededDollor;\n            \n            if (oneInfo.currentLevel == oneInfo.maxLevel) {\n                levelUpButton.interactable = false;\n            }\n            \n            levelUpButton.temp = oneInfo.intensifyType;\n            levelUpButton.node.on(\"click\",this.onClickLevelUpButton,this);\n\n            var originPosition = cc.v2(-409,-42);\n            var xPosition = originPosition.x;\n            var yPosition = originPosition.y - 130 * index;\n\n            oneItem.setPosition(xPosition,yPosition);\n            this.content.addChild(oneItem);\n\n            \n        }\n    },\n    onClickLevelUpButton(givenButton) {\n        var intensifyType = givenButton.temp;\n        var networkMgr = cc.find(\"networkMgrNode\").getComponent(\"networkMgr\");\n        var message = {\n            \"type\": \"intensifyBoat\",\n            \"intensifyType\": intensifyType\n        }\n        message = JSON.stringify(message);\n        networkMgr.sendMessageToServer(message);\n    }\n\n    // update (dt) {},\n});\n"]}